## Javaì—ì„œëŠ” Call-by-value ë°©ì‹ë§Œ ì‚¬ìš©í•œë‹¤!
> í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ Cì™€ C++ë¡œ ë¨¼ì € ì ‘í–ˆê¸° ë•Œë¬¸ì—, ë³€ìˆ˜ì˜ ì£¼ì†Œê°’ì„ ë°›ì„ ìˆ˜ ìˆëŠ” & ì—°ì‚°ìê°€ ë‹¹ì—°í–ˆê³ ,  
> í•´ë‹¹ ì—°ì‚°ìë¥¼ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í–ˆë‹¤.  
> Javaì—ì„œë„ Call-by-reference ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ í–ˆìœ¼ë‚˜, & ì—°ì‚°ìê°€ ì—†ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë˜ê³ ..!!  
> ìë£Œë¥¼ ì°¾ì•„ë³¸ ê²°ê³¼ Javaì—ì„œëŠ” Call-by-value ë°©ì‹ë§Œì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤.
> 
> í•˜ì§€ë§Œ ë©”ì„œë“œì— ê°ì²´ë¥¼ ì „ë‹¬í•˜ë©´ ë³€ê²½ì´ ë˜ë˜ë°..? ê·¸ëŸ°ë° JavaëŠ” Call-by-valueë§Œ ì‚¬ìš©í•œë‹¤ë˜ë°..?  
> ì´ëŸ¬í•œ ì˜ë¬¸ì ì´ ë“¤ì–´ì„œ ì´ë²ˆ ê¸°íšŒì— ì¢€ ë” íŒŒí—¤ì³ ë³´ê³ ì í•œë‹¤!

### Java: ë³€ìˆ˜ì˜ íƒ€ì…ê³¼ ê·¸ì— ë”°ë¥¸ ë©”ëª¨ë¦¬ ì €ì¥ ìœ„ì¹˜
> ë³€ìˆ˜ì˜ íƒ€ì…ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆë‹¤. Primitive(ì›ì‹œ) íƒ€ì…ê³¼ Reference(ì°¸ì¡°) íƒ€ì…ì´ë‹¤.  
> 
> Primitive Typeì€ ê¸°ë³¸ê°’ì´ ìˆëŠ” ë³€ìˆ˜ì´ë©°, ê¸°ë³¸ê°’ì´ ìˆê¸° ë•Œë¬¸ì— nullì„ ë‹´ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— nullì„ ë‹´ê³  ì‹¶ë‹¤ë©´ Wrapper class(ex: Integer)ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  
> ì‹¤ì œ ê°’ì„ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— Stack ì˜ì—­ì— ì €ì¥ëœë‹¤. int, boolean, double, char, long ë“±ì´ ì—¬ê¸°ì— ì†í•œë‹¤.
> 
> Reference Typeì€ 8ê°€ì§€ì˜ Primitive Typeì„ ì œì™¸í•œ ëª¨ë“  íƒ€ì…ì„ ì´ì•¼ê¸° í•œë‹¤.  
> nullì„ ë‹´ì„ ìˆ˜ ìˆìœ¼ë©°, ê°’ì˜ ì£¼ì†Œ ê°’ì„ ë‹´ê¸° ë•Œë¬¸ì— Heapì˜ì—­ì— ì €ì¥ëœë‹¤.

JVMì—ì„œëŠ” ë³€ìˆ˜ íƒ€ì…ì— ë”°ë¼ ë©”ëª¨ë¦¬ì— ì–´ë–»ê²Œ ì €ì¥í• ê¹Œ?  
Primitive typeì—ì„œëŠ” ***Stack ì˜ì—­ì— ë³€ìˆ˜ì™€ í•¨ê»˜ ì €ì¥*** ë˜ë©°,   
Reference TypeëŠ” ê°ì²´ëŠ” ***Heapì— ì €ì¥*** ë˜ê³  ***Stack ì˜ì—­ì— ìˆëŠ” ë³€ìˆ˜ê°€ Heap ì˜ì—­ì— ìˆëŠ” ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤***.
![img.png](image/img1.png)
***

<br>

### Primitive typeë¥¼ ì „ë‹¬í•  ë•Œ
primitive type ì¤‘ í•˜ë‚˜ì¸ int íƒ€ì…ì˜ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œì˜ ì¸ìë¡œ ì „ë‹¬í–ˆì„ ë•Œì—ëŠ” í˜¸ì¶œí•œ ë©”ì„œë“œì˜ stack ê³µê°„ì— ë³€ìˆ˜ë“¤ì´ ì €ì¥ë  ê²ƒì´ë‹¤.
``` java
public class PrimitivesUnitTest {
    @Test
    public void whenModifyingPrimitives_thenOriginalValuesNotModified() {
        int x = 1;
        int y = 2;
       
        // modify() í˜¸ì¶œ ì´ì „ì— ê°’ í™•ì¸
        assertEquals(x, 1);
        assertEquals(y, 2);
        
        modify(x, y);
        
        // modify() í˜¸ì¶œ ì´í›„ì—ë„ ê°’ì´ ê°™ë‹¤
        assertEquals(x, 1);
        assertEquals(y, 2);
    }
    
    public static void modify(int x1, int y1) {
        x1 = 5;
        y1 = 10;
    }
}
```
ìœ„ ì½”ë“œë¥¼ ì˜ˆì‹œë¡œ ë“¤ì–´ë³´ì.  
1. ì´ˆê¸°ì—ëŠ” Stack ê³µê°„ì— x = 1, y = 2ë¼ëŠ” ë‘ ê°œì˜ ê³µê°„ì´ ìˆì—ˆì„ ê²ƒì´ë‹¤.  
2. modify(x, y)ë¥¼ í˜¸ì¶œí•˜ëŠ” ìˆœê°„, í•´ë‹¹ ë³€ìˆ˜ë“¤ì˜ ê°’ì„ ë³µì‚¬í•˜ì—¬ Stackì˜ ë‹¤ë¥¸ ê³µê°„ì— ê°’ì„ ì €ì¥í•  ê²ƒ ì´ë‹¤.  
3. modify í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ Stackì—ì„œ modify stackì˜ ìë¦¬ì—ëŠ” x1 = 5, y1 = 10ì˜ ê°’ì´ ë“¤ì–´ê°ˆ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ xì™€ yì˜ ê°’ì—ëŠ” ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ”ë‹¤.
![img.png](image/img.png)

ì´ì™€ ê°™ì´ Primitive typeì˜ ê²½ìš°ì—ëŠ” ìš°ë¦¬ê°€ ì˜ ì•Œê³  ìˆëŠ” ê°’ì„ ë³µì‚¬í•´ì„œ ì „ë‹¬í•˜ëŠ” Call-by-value ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤.

***

<br>

### Reference typeì„ ì „ë‹¬í•  ë•Œ
ë¬¸ì œëŠ” Reference typeì„ ì „ë‹¬í•  ë•Œì´ë‹¤.  
JavaëŠ” Call-by-valueë¡œ ì‘ë™í•˜ë‹ˆ, ê°ì²´ë¥¼ ì¸ìë¡œ ì „ë‹¬í•´ë„ ê°ì²´ ë‚´ì˜ ê°’ì„ ë°”ê¿€ ìˆ˜ ì—†ì–´ì•¼ í•  ê²ƒ ê°™ì€ë° ì§ì ‘ í•´ë³´ë©´ ê°’ì´ ë³€ê²½ëœë‹¤(?!)  
ì´ê²Œ ì–´ë–»ê²Œ ëœ ì¼ì¼ê¹Œ?  

ë°‘ê³¼ ê°™ì€ ì˜ˆì‹œë¥¼ ëŒ€í‘œì ì¸ ì˜ˆì´ë‹¤.
ë¶„ëª… Call-by-value ì¼í…ë°, ê°ì²´ë¥¼ ì¸ìë¡œ ì „ë‹¬í–ˆê³  í•„ë“œê°’ì„ ë³€ê²½í–ˆë”ë‹ˆ í•¨ìˆ˜ ì¢…ë£Œ ì´í›„ì—ë„ ê°’ ë³€ê²½ì´ ë°˜ì˜ë˜ì–´ ìˆë‹¤..!  

``` java
class Example {
    public static void main(String[] args) {
        Person p = new Person(10);

        // before : 10
        System.out.println("before : "+ p.age);

        getOlder(p);

        // after : 11
        System.out.println("after : "+ p.age);
    }

    private static void getOlder(Person p){
        p.age++;
    }
}
```

ë‚˜ë„ ì´ ë¶€ë¶„ì—ì„œ í•œì°¸ë™ì•ˆ í—·ê°ˆë ¸ë˜ ë¶€ë¶„ì¸ë°,   
Call-by-referenceëŠ” ë³€í•˜ëŠ” ê²ƒ, Call-by-valueëŠ” ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ëƒ…ë‹¤ ì™¸ì›Œë²„ë ¸ê³ , ì´ë¥¼ Javaì— ì ìš©í•´ë²„ë¦¬ë‹ˆ ìƒê¸°ëŠ” ë¬¸ì œì ì´ì—ˆë‹¤.


Reference typeì€ ìœ„ì—ì„œ ì´ì•¼ê¸° í–ˆë“¯ì´, Primitive typeê³¼ëŠ” ë‹¬ë¦¬ ê°ì²´ëŠ” Heapì— ì €ì¥ë˜ê³  Stack ì˜ì—­ì— ìˆëŠ” ë³€ìˆ˜ê°€ ê°ì²´ì˜ ì£¼ì†Œ ê°’ì„ ê°€ì§€ê³  ìˆë‹¤.  
Reference typeì„ ì¸ìë¡œ ì „ë‹¬í•˜ë©´, ì´ ë•Œì—ëŠ” ***"ì£¼ì†Œ ê°’"*** ì„ ë³µì‚¬í•´ì„œ ì „ë‹¬í•œë‹¤.  
ë”°ë¼ì„œ mainì—ì„œ Person ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ë°‘ì˜ ê·¸ë¦¼ê³¼ ê°™ì€ ìƒí™©ì¼ ê²ƒì´ë‹¤.
![img.png](image/img2.png)

ê·¸ëŸ¼ ì—¬ê¸°ì„œ getOlder ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë©´, Call-by-valueì´ì§€ë§Œ ì£¼ì†Œê°’ì„ ë³µì‚¬í•´ì„œ ì „ë‹¬í•˜ê¸° ë•Œë¬¸ì— Personì˜ ì£¼ì†Œ ê°’ì´  
Stackì˜ ìƒˆë¡œìš´ ê³µê°„ì¸ getOlderì— ì €ì¥ì´ ë  ê²ƒì´ë‹¤!

![img.png](image/img3.png)

ì´ë¡œì¨ getOlderì—ì„œëŠ” ì „ë‹¬ë°›ì€ ì£¼ì†Œ ê°’ì„ í†µí•´ Personì˜ ê°’ì— ì ‘ê·¼ì„ í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.  
ì´ëŸ¬í•œ ì  ë•Œë¬¸ì— ê°ì²´ì˜ í•„ë“œ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê²ƒì´ê³ , Call-by-referenceì™€ ê°™ì€ ê²ƒì´ë¼ê³  ìƒê°í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.  


> í•˜ì§€ë§Œ ì•„ë‹ˆë‹¤. Call-by-referenceì™€ëŠ” ë‹¤ë¥´ë‹¤.  
> ë°‘ê³¼ ê°™ì€ ìƒí™©ì´ ê³¼ì—° ***"ì°¸ì¡°"*** ê°€ ë°”ë€Œì—ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆì„ê¹Œ?  
> ì•„ë‹ˆë‹¤. ì£¼ì†Œê°’ì€ ë°”ë€Œì§€ ì•Šì•˜ë‹¤. ê°ì²´ì˜ ***"ìƒíƒœ"*** ê°€ ë³€ê²½ëœ ê²ƒì´ë‹¤. ë”°ë¼ì„œ Call-by-valueì´ë‹¤!

<br>

#### ğŸ§ ê·¸ëŸ¼ Call-by-referenceê°€ ì•„ë‹Œê±´ ì–´ë–»ê²Œ ì•Œì•„ìš”?

``` java
class Example {
    public static void main(String[] args) {
        Person p = new Person(10);

        // before : 10
        System.out.println("before : "+ p.age);

        changePerson(p);

        // after : 10
        System.out.println("after : "+ p.age);
    }

    private static void changePerson(Person p){
        p = new Person(50);
    }
}
```
ìœ„ì˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì.    
changePersonì´ë¼ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´, í•´ë‹¹ ë©”ì„œë“œì—ì„œëŠ” ìƒˆë¡œìš´ Person ê°ì²´ë¥¼ ìƒì„±í•  ê²ƒì´ë‹¤.  

Stack ì˜ì—­ ì•ˆì˜ changePersonì€ ê¸°ì¡´ ê°ì²´ì˜ ì£¼ì†Œ ê°’ì¸ 0x0004ê°€ ì•„ë‹Œ, 0x000Cë¥¼ ê°–ê²Œ ëœë‹¤.  
ë”°ë¼ì„œ changePersonì—ì„œ ageì˜ ê°’ì„ ìˆ˜ì •í•œë‹¤ í•˜ì—¬ë„, mainì—ì„œëŠ” 0x0004ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ë¡œì¨ Reference type ë˜í•œ call-by-valueë¡œ ì „ë‹¬ëœë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

![img.png](img.png)


ìµœì¢…ì ìœ¼ë¡œ main í•¨ìˆ˜ì˜ ì‹¤í–‰ì´ ëª¨ë‘ ëë‚˜ê²Œ ë˜ë©´, Stack ì˜ì—­ ë‚´ì˜ changePerson ê³µê°„ë„ ì‚¬ë¼ì§ˆ ê²ƒì´ë‹¤.  
ê·¸ë ‡ê²Œ ë˜ë©´ ìœ„ ì‚¬ì§„ì˜ heap ì˜ì—­ì˜ ***0x000C*** ëŠ” ì•„ë¬´ ê³³ì—ì„œë„ ì°¸ì¡°ë¥¼ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— Garbage Collectorì— ì˜í•´ ì œê±°ë  ê²ƒì´ë‹¤.




***
<br>


ì°¸ê³  ì‚¬ì´íŠ¸  
https://www.blog.ecsimsw.com/entry/%EC%9E%90%EB%B0%94%EB%8A%94-Call-by-Value-%EC%9D%B4%EB%8B%A4
https://www.baeldung.com/java-pass-by-value-or-pass-by-reference
https://bcp0109.tistory.com/360