# 프로젝트 회고록 - SangCom (작성 중)

> 상명대학교 컴퓨터과학전공 캡스톤 디자인으로 진행했던 상명여고 커뮤니티 프로젝트, 이하 SangCom(상콤)이 얼추 마무리되었다.
>
>
> 백엔드 개발자로써 팀을 이뤄서 프로젝트를 해본 것은 처음이었는데, 프로젝트를 진행하면서 배운 것이 정말정말 많았던 프로젝트였다.
>
> 프로젝트가 끝나고 다시 한 번 곱씹어보는 기회를 가지면서 내가 배웠던 것들, 아쉬웠던 점들을 정리해볼까 한다.
>

### SangCom 프로젝트란?

상명대학교 SW 융합학부 컴퓨터과학전공 캡스톤 디자인으로 진행했던 프로젝트이다.

상명대학교 사범대학부속 여자고등학교(이하 상명여고) 학생들이 이용할 수 있는 익명 커뮤니티 서비스를 개발하는 것을 목표로 하였다.

대학생들이 사용하는 에브리타임을 벤치마킹하였으며, 고등학교 학생들이 학교 생활을 하면서 필요할 것 같은 기능들을 몇 가지 추가하였다.
(특정 학년/반에 속하는 학생들만 사용할 수 있는 반공간 & 교사와 학생 간의 메시지를 주고 받을 수 있는 다이렉트 메시지)

### 진행기간

2022.12.25 ~ 2023.03.13


### 팀 구성

- 프론트엔드(React) 2명 - 강승아, 김다은
- 백엔드(Spring Boot) 2명 - **성희연**, 이가현

### 기술 스택

**Frontend**

- HTML/CSS
- JavaScript
- React
- React Router
- Redux
- Axios

**Backend**

- Java
- Spring Boot
- Spring MVC
- Spring Data JPA
- Spring Security
- QueryDsl

**Communication**

- Notion
- Git / GitHub
- Figma
- Swagger

### 구현 기능

- 데이터베이스 설계
- OAuth 2.0을 통한 Kakao 소셜 로그인
- 소셜 로그인 이후의 자체 회원가입
- JWT를 이용한 access token/refresh token 구현 및 로그인/로그아웃
- 카테고리에 따른 다중 게시판 기능(전체 게시판, 학년별 게시판, 동아리 게시판 등)
- 게시글 기능(수정, 삭제, 댓글, 대댓글, 좋아요, 스크랩 기능 제공)
- 검색 기능(’제목만’, ‘제목 + 내용’, ‘내용만’ 검색 옵션 제공)
- 실시간 인기글 상단 노출(최근 24시간 내에 좋아요 수가 제일 많은 게시글 상단 노출)
- neis api를 통한 급식정보 보여주기
- *반공간 기능(진행 중)*
- *다이렉트 메시지 기능(진행 중)*

---

### 프로젝트에서의 내 역할

- DB 구조
- OAuth 2.0을 통한 소셜 로그인 구현
- JWT(access token/refresh token)을 이용한 로그인/로그아웃
- 다중 게시판 기능
- 게시글 기능(수정, 삭제, 좋아요, 스크랩 기능)
- 검색 기능
- 실시간 인기글 추출
- 다이렉트 메시지 기능

> 백엔드 메인 개발자로써 이 프로젝트에 참여했다. 백엔드 개발자로 프로젝트를 해보는 것이 처음이라 두려움도 많았지만, *‘일단 부딫혀보자!’* 라는 마인드로 개발에 임했다.~~(안하면 졸업 못해!)~~
>
>
> 프로젝트 이전까지 했던 것들은 인프런 강의를 보고 따라하는 수준이었기 때문에 새로운 것을 만들어야한다는 압박감이 상당히 두려웠습니다만,,;;;;
>
> 돌이켜 생각해보면 직접 부딫히면서 배운 것들도 정말 많고, 아쉬운 점들도 많은 것 같다.
>

---

### 프로젝트 진행 과정

상명여고 고등학생을 위한 커뮤니티 서비스인 SangCom은 개발을 시작할 때부터 상명여고 학생들에게 배포한다는 목적이 있었다.

2022년 11월 말부터 2학기 종강(12월 말) 이전까지 교수님과 대략 두 번 정도의 미팅을 거쳤고, ***‘서비스 요구사항 정리’***, ***‘DB 스키마 초안 설계’***와 같은 프로젝트 개발 이전에 필요한 일들을 진행했다.

2022년 2학기 종강 이후 2022년 12월 말부터 일주일마다 교수님과 미팅을 진행했으며, 매주 새로운 목표를 설정해서 기능 개발을 이어나갔다.
(3월에 초기 배포할 예정이었기 때문에 매주매주 목표를 빡빡하게 잡고 갈리면서 개발했습니다 하하.)

- Pre 미팅(12월 8일)
- 1차 미팅(12월 29일)
- 2차 미팅(1월 5일)
- 3차 미팅(1월 19일)
- 4차 미팅(2월 2일)
- 5차 미팅(2월 15일)
- 6차 미팅(2월 23일)
- 7차 미팅(2월 28일)
- 8차 미팅(3월 8일)
- 9차 미팅(3월 13일) - 상명여고 미팅

---

### Experience.

### TDD 첫 적용기

이 프로젝트를 시작하기 전, 디자인패턴 스터디에서 현직자로 계신 분이 TDD에 대해서 말씀해주신 적이 있었다. TDD에 대한 좋은 영상이 하나 있다며 유투브 영상을 하나 추천해주셨고, 영상을 따라서 코드를 작성해보니 TDD의 전체적인 플로우에 대해 조금이나마 알 수 있었다.

TDD를 적용하지 않으면 구조도 튼튼하지 않고 유지보수가 힘든 코드가 되기 쉽기 때문에 처음부터 습관을 들여야한다는 조언을 들었다. SangCom 프로젝트는 단기간 프로젝트도 아니고, 배포할 목적으로 개발하는 것이기 때문에 TDD를 적용하기로 했다.

프로덕션 코드를 하나도 작성하지 않고 테스트 코드를 먼저 작성하려니 순서가 반대가 된 것 같아 뭔가 인지부조화(…)가 일어나는 기분이었지만, 개발을 거듭하면 거듭할수록 TDD를 적용하기 잘했다는 생각을 많이 했다.

기능을 확장하면서 그 중요성을 많이 느꼈는데, 그 중에서 Spring Security에서 겪었던 일을 이야기해보려고 한다. 개발 초기에 OAuth 2.0을 통해 소셜로그인을 구현하고, 사용자에게 Role을 부여하여 api 접근을 통제하는 코드를 작성했다. JWT를 이용해서 로그인 기능을 더 확장했는데, 기능을 확장하다보니 원래 작동했던 기능들이 작동하지 않는 버그가 발생했다.

api 접근에 대한 버그였기 때문에, 만일 테스트 코드가 없었다면 모든 api에 대해서 postman 등을 통해 직접 테스트를 했어야 했을 것이다. 그렇게 테스트를 했다면 몇몇 api에 대한 검사를 빼먹었을 수도 있고, 원하는 권한에 대한 테스트를 하는데에 어려움을 겪었을 것이다. ~~*(생각만해도 끔찍해…)*~~

반면 테스트 코드를 통해 테스트를 진행하니 테스트하고 싶은 Role도 설정이 가능하고, 테스트하고 싶은 api들도 빠짐 없이 테스트를 진행할 수 있었다. 그 뿐만 아니라 개발자들이 말하는 ‘버그를 고쳤더니 버그가 생겼어요..!’와 같은 현상이 발생하더라도, 기능 별로 테스트를 분리해놨기 때문에 어디서 문제가 생긴 것인지 비교적 빠르게 확인할 수 있었다.

거기에 더해서 기능 확장을 할 때에도 중복 코드를 작성하는 일이 적었다. 테스트 코드를 작성하는 과정에서 다른 테스트 코드와 공통된 코드는 공통 코드를 작성하여 처리하는 과정이 있는데, 이런 과정을 통해서 프로덕션 코드를 작성할 때에도 조금이라도 더 깔끔한 코드를 작성할 수 있었다.

아직 TDD에 대한 지식이 많이 부족하기 때문에, 내가 이번 프로젝트에서 사용한 TDD의 방법이 정석은 아닐 것이다. 영상으로 배웠던 TDD 하지만 TDD라는 방법을 적용해보면서 TDD가 얼마나 유용한지 알게 되었다는 점과, TDD에 대한 막연한 두려움을 날릴 수 있다는 것에 큰 의미가 있는 것 같다.

### OAuth 2.0 소셜로그인 기능 구현기
서버 개발자로써 처음 참여하는 팀 프로젝트이다보니, Spring Security 라이브러리는 한 번도 건들여본 적이 없었다. OAuth 2.0을

### 

---

### 프로젝트를 통해 얻은 점

### 일단 해보자!

### 개발자에 대한 확신

게임 클라이언트 개발자에서 백엔드 개발자로 노선을 변경하고 Java Spring을 계속 공부하고 재미를 느끼고 있지만, 한편으로는 이 길이 맞을까 고민도 많이 했습니다.

---

### 잘한 점/ 아쉬운 점

**잘한 점**

- TDD를 적용한 개발을 해본 것

  → TDD라는 개발 방식은 이전에 생각하고 있던 개발 방법과 반대의 결을 가지고 있어서 낯설고 테스트 작성을 건너뛰고 싶었는데, 계속 꾸욱 참고 작성할 수 있는 테스트는 모두 작성하면서 개발을 진행한 것은 잘한 점이라고 생각한다. 덕분에 TDD에 대한 필요성과 전반적인 흐름을 익힐 수 있었다.

- 새로운 기술 적용에 대해 거부감이 없었던 것

  → SangCom 서비스를 개발하면서 새로운 기술을 공부하고 적용해야 할 일이 많았습니다. 처음 접하는 개념들이 많아서 구조를 파악하는데에 많은 시간이 걸렸지만,

- Spring Security의 구조를 파악하고 수정한 것

  →

- RESTful api 설계의 규칙을 적용하려고 했던 것

  →


**아쉬운 점**

- 대략 두 달동안 기능 개발에만 초점을 두었기 때문에 최적화에 대해 깊게 생각해보지 못했다. 깊게 파고들면 분명 성능 이슈가 있을 것이라고 생각한다. 트래픽이 많아지면 성능 최적화는 필수인데, 그러한 점을 신경쓰지 못해 아쉬웠다.
- JWT를 통한 로그인을 구현했다. 로그아웃은 주로 Redis를 통해서 구현하는 것으로 알고 있는데, Redis를 이용하지 않고 쿠키를 지우는 방식을 사용했다. 다음에 로그인을 구현한다면 Redis를 이용해보고 싶다.
- git 제대로 사용하지 못했다. Trunk-based 전략은 Trunk(master)라는 브랜치를 모든 개발자가 공유하고 → 브랜치를 생성하여 새로운 기능을 개발하고 → PR(Pull Request)를 올려 코드 리뷰를 받고 병합하는 방식이다.
  문제는 세 단계 중 두 번째 단계인 “브랜치를 생성하여 새로운 기능을 개발”만 적용한 것이다. 정말 브랜치를 생성했다가 병합하는 것(…)만 했고 PR 과정이 없었던 것… 덕분에 브랜치만 우후죽순으로 생성되었고, 팀원들 사이에 혼란이 발생하기도 했다.
  PR 과정이 없었기 때문에 브랜치를 병합했다가 병합한 내용 때문에 다른 기능이 작동하지 않기도 하고, 병합을 했다가 코드가 옛날 버전으로 돌아가는 등 문제를 겪었다.
- SangCom 서비스를 상명여고에 배포할 목적을 가지고 개발을 했다. 하지만 정작 상명여고와의 미팅에서 코로나 기간 동안 고등학교에서 쓸만한 서비스가 출시한 상태였기 때문에, 우리가 개발한 서비스를 사용할 필요가 없어진 상태였고, 결국 배포하지 못했다.

  고객(상명여고)가 어떤 것을 원하는지, 어떤 점이 우려되는지와 같은 요구사항을 개발 시작 이전에 한 번 더 집고 넘어갔어야 하는데, 이 부분이 부족했기 때문에 일어난 일이라고 생각한다.


---

### 완성 모습
